
<div class="card white">
    <div class="card-content">

        <tag ng-repeat="tag in post.tags"></tag>

        <span ng-if="editMode" style="padding-right:10px; cursor:pointer;" class="blue-text" ng-click="toggleEditMode()">
            Cancel
        </span>
        <!-- edit button -->
        <a ng-if="isEditable" style="padding-right:10px;" class="waves-effect waves-light btn indigo right">
            <span ng-if="!editMode" ng-click="toggleEditMode()">
                <i class="material-icons">edit</i>
                <span style="position:relative; bottom:5px;"></span>
            </span>
            <span ng-if="editMode" ng-click="saveChanges()">
                <i class="material-icons">edit</i>
                <span style="position:relative; bottom:5px;">Save changes</span>
            </span>
        </a>

        <tag-input-field ng-if="editMode"></tag-input-field>

        <!-- <br ng-if="type !== 'answer' || post.tags.length > 2"> -->
        <br ng-if="post.tags.length > 0 && type !== 'answer'"/>

        <input ng-model="temp.title" class="animate-fade-in" ng-if="editMode && type==='question'" type="text" name="FirstName"/>

        <span class="animate-fade-in" ng-if="(!editMode && type==='question') || type==='feed-item' || type==='answer'" ng-switch="linkToQuestionPage">
            <span ng-switch-when="true" ng-if="includeTitle" ng-click="goToPost(post)" class="card-title" style="cursor:pointer;">
                {{post.title}}</span>
            <span ng-switch-when="false" ng-if="includeTitle" class="card-title">
                {{post.title}}</span>
        </span>

        <ul style="border:0;"class="collection">
            <li style="margin-left:-15px;min-height:55px;margin-top:-10px;"class="collection-item avatar">
                <!-- TODO: replace dummy image with proper image -->
                <img ng-click="goToProfile(post.author.userid)" src="http://dummyimage.com/300/09.png/fff" alt="" class="circle" style="cursor:pointer">
                <span ng-click="goToProfile(post.author.userid)" class="title" style="cursor:pointer">{{post.author.name}}</span>
                <p ng-if="includeAuthorFlavor" class="grey-text">{{post.author.flavour}}</p>
                <a data-tooltip="This users karma" style="cursor:pointer; margin-right:-15px;" class="tooltip-left secondary-content orange-text text-accent-2"><i class="material-icons orange-text text-accent-2">grade</i>{{post.author.karma}}</a>
            </li>
        </ul>



        <!-- Behave as a table cell for the height to adjust to same as the text column -->
        <div style="display:table-cell; vertical-align:middle; text-align:left;">
            <i id="vote" ng-click="incrementUpvotes(post, 1);" style="font-size:1.4em;cursor:pointer;margin-left:10px;" class="material-icons grey-text">thumb_up</i>
            <p class="grey-text"style="font-weight:bold;padding-left:8px; text-align:center;padding-top:8px; padding-bottom:8px;">{{post.upvotes}}</p>
            <i id="vote" ng-click="incrementUpvotes(post, -1);" style="font-size:1.4em;margin-left:10px;cursor:pointer;" class="material-icons grey-text">thumb_down</i>
        </div>



        <div style="padding-left:25px; display:table-cell; width:100%;">

            <div class="animate-fade-in" ng-show="type === 'question' && editMode" class="row">
               <!--  <textarea ng-model="post.content" style="margin-bottom:0px; margin-left:10px;width:95%; " id="textarea1" class="materialize-textarea">{{post.content}}</textarea> -->
               <div id="wysiwyg-editor-questionbody" class="wysiwyg-editor">{{post.content}}</div>

            </div>

            <span class="animate-fade-in" ng-if="(!editMode && type==='question') || type==='answer' || type==='feed-item'" ng-switch="type">
                <span ng-switch-when="feed-item"><collapse-text max-length="220">{{post.content}}</collapse-text></span>
                <span ng-switch-default>{{post.content}}</span>
            </span>
        </div>

    </div>

    <!-- we pass in what we want in the footer -->
    <div ng-transclude></div>
    <!-- end card-->
</div>
